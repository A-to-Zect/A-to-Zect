<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>프로젝트 수정</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <style>
        .field-error { border-color: #dc3545 !important; margin-bottom: 0 !important; }
        .field-error-msg { color: #dc3545; font-size: 12px; font-weight: bold; margin-top: 3px; margin-bottom: 15px; }
    </style>
</head>
<body>

<div class="container" style="max-width: 600px;">
    <h1>프로젝트 수정</h1>
    <p class="subtitle">프로젝트 정보를 최신 상태로 업데이트하세요.</p>

    <div class="text-right">
        <a th:href="@{/projects/my}" class="btn btn-secondary">취소</a>
    </div>
    <hr>

    <div th:if="${error}" class="error-msg" th:text="${error}" style="color: red; margin-bottom: 20px;"></div>

    <form th:action="@{|/projects/${projectId}/edit|}" method="post" th:object="${updateDto}">

        <h3>기본 정보 수정</h3>

        <div style="margin-bottom: 5px;">
            <label>프로젝트 제목</label>
            <input type="text" th:field="*{title}" placeholder="제목을 입력하세요"
                   class="form-control" th:errorclass="field-error" style="margin-bottom: 15px;">
            <div class="field-error-msg" th:errors="*{title}">제목 에러</div>
        </div>

        <div style="margin-bottom: 5px;">
            <label>설명</label>
            <textarea th:field="*{description}" placeholder="프로젝트 설명을 입력하세요"
                      class="form-control" th:errorclass="field-error" style="min-height: 150px; margin-bottom: 15px;"></textarea>
            <div class="field-error-msg" th:errors="*{description}">설명 에러</div>
        </div>

        <div style="margin-bottom: 5px;">
            <label>최대 모집 인원</label>
            <input type="number" th:field="*{maxCount}" min="2" max="20" placeholder="예: 4"
                   class="form-control" th:errorclass="field-error" style="margin-bottom: 15px;">
            <div class="field-error-msg" th:errors="*{maxCount}">인원 에러</div>
            <p style="font-size: 12px; color: #888; margin-top: 5px;">
                * 현재 참여 인원보다 적게 설정할 수 없습니다.
            </p>
        </div>

        <div class="info-card" style="margin-top: 20px; background: #f8f9fa; border: none;">
            <p style="font-size: 13px; color: #666; margin: 0;">
                💡 <strong>참고:</strong> 기술 스택과 MBTI 설정은 프로젝트 상세 페이지의 관리 메뉴에서 별도로 수정할 수 있습니다.
            </p>
        </div>

        <div style="margin-top: 30px;">
            <button type="submit" class="btn btn-primary btn-block">수정 완료</button>
        </div>
    </form>
</div>

</body>
</html>